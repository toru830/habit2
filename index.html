<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>ç¿’æ…£åŒ–ã‚¢ãƒ—ãƒª</title>
    <meta name="description" content="é€±é–“ç¿’æ…£ãƒˆãƒ©ãƒƒã‚«ãƒ¼">
    <meta name="theme-color" content="#000000">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="ç¿’æ…£åŒ–">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <link rel="manifest" href="manifest.json">
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon" href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTkyIiBoZWlnaHQ9IjE5MiIgdmlld0JveD0iMCAwIDE5MiAxOTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxjaXJjbGUgY3g9Ijk2IiBjeT0iOTYiIHI9Ijk2IiBmaWxsPSIjMDAwMDAwIi8+CjxjaXJjbGUgY3g9Ijk2IiBjeT0iOTYiIHI9Ijg0IiBmaWxsPSIjNEE5MEUyIi8+CjxzdmcgeD0iNDgiIHk9IjQ4IiB3aWR0aD0iOTYiIGhlaWdodD0iOTYiIHZpZXdCb3g9IjAgMCA5NiA5NiIgZmlsbD0ibm9uZSI+CjxwYXRoIGQ9Ik03MiA0OEw0OCA3Mkw2MCA4NCIgc3Ryb2tlPSIjRkZGRkZGIiBzdHJva2Utd2lkdGg9IjEyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPGNpcmNsZSBjeD0iNzIiIGN5PSI3MiIgcj0iMTIiIGZpbGw9IiNGRkZGRkYiLz4KPC9zdmc+Cjwvc3ZnPgo=">
    <link rel="stylesheet" href="styles.css?v=20250923180000">
    
    <!-- Firebase SDK -->
    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
        import { getAuth, GoogleAuthProvider, signInWithPopup, signInWithRedirect, getRedirectResult, signOut, onAuthStateChanged, createUserWithEmailAndPassword, signInWithEmailAndPassword } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js';
        import { getFirestore, doc, setDoc, getDoc, collection, addDoc, updateDoc, deleteDoc, query, where, orderBy, getDocs } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js';
        
        // Firebaseè¨­å®šï¼ˆãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ï¼‰
        const firebaseConfig = {
            apiKey: "AIzaSyDzu_ky2Sz0x0wG0UfVzUF68HiTUnu6euY",
            authDomain: "habit-tracker0830.firebaseapp.com",
            projectId: "habit-tracker0830",
            storageBucket: "habit-tracker0830.firebasestorage.app",
            messagingSenderId: "1012307413614",
            appId: "1:1012307413614:web:3c772a588c4d0825c3f47f",
            measurementId: "G-NCQSMFEPQL"
        };
        
        console.log('ğŸ” Firebaseè¨­å®šã‚’èª­ã¿è¾¼ã¿ä¸­...', firebaseConfig);
        
        // FirebaseåˆæœŸåŒ–
        console.log('ğŸ” FirebaseåˆæœŸåŒ–é–‹å§‹...');
        const app = initializeApp(firebaseConfig);
        console.log('ğŸ” Firebase AppåˆæœŸåŒ–å®Œäº†:', app);
        
        const auth = getAuth(app);
        console.log('ğŸ” Firebase AuthåˆæœŸåŒ–å®Œäº†:', auth);
        
        const db = getFirestore(app);
        console.log('ğŸ” Firebase FirestoreåˆæœŸåŒ–å®Œäº†:', db);
        
        const provider = new GoogleAuthProvider();
        console.log('ğŸ” Google Auth ProvideråˆæœŸåŒ–å®Œäº†:', provider);
        
        // ã‚°ãƒ­ãƒ¼ãƒãƒ«ã«Firebaseã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’è¨­å®š
        window.firebaseAuth = auth;
        window.firebaseDb = db;
        window.firebaseProvider = provider;
        window.firebaseSignIn = signInWithPopup;
        window.firebaseSignInRedirect = signInWithRedirect;
        window.firebaseGetRedirectResult = getRedirectResult;
        window.firebaseSignOut = signOut;
        window.firebaseOnAuthStateChanged = onAuthStateChanged;
        window.firebaseCreateUserWithEmailAndPassword = createUserWithEmailAndPassword;
        window.firebaseSignInWithEmailAndPassword = signInWithEmailAndPassword;
        window.firebaseDoc = doc;
        window.firebaseSetDoc = setDoc;
        window.firebaseGetDoc = getDoc;
        window.firebaseCollection = collection;
        window.firebaseAddDoc = addDoc;
        window.firebaseUpdateDoc = updateDoc;
        window.firebaseDeleteDoc = deleteDoc;
        window.firebaseQuery = query;
        window.firebaseWhere = where;
        window.firebaseOrderBy = orderBy;
        window.firebaseGetDocs = getDocs;
    </script>
</head>
<body>
    <div class="app-container">
        <!-- ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ -->
        <main class="main-content">
            <!-- é€±é–“ãƒ“ãƒ¥ãƒ¼ -->
            <section class="week-view" id="weekView">
                <!-- æœˆé¸æŠ -->
                <div class="month-selector">
                    <button class="nav-arrow" id="prevWeek">â€¹</button>
                    <div class="month-display">
                        <span id="currentMonth">2025å¹´9æœˆ</span>
                        <span class="dropdown-arrow">â–¼</span>
                    </div>
                    <div class="month-actions">
                        <button class="nav-arrow" id="nextWeek">â€º</button>
                        <button class="action-btn today-btn" id="goToToday">ä»Šæ—¥</button>
                        <!-- ãƒ¡ãƒ¼ãƒ«/ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰èªè¨¼ï¼ˆãƒ¡ã‚¤ãƒ³èªè¨¼ï¼‰ -->
                        <div class="email-auth-container" style="margin-top: 10px; display: flex; flex-direction: column; align-items: flex-end; gap: 5px;">
                            <input type="email" id="emailInput" placeholder="ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹" style="padding: 8px; border-radius: 4px; border: 1px solid #333; background-color: #222; color: white; width: 200px; font-size: 14px;">
                            <input type="password" id="passwordInput" placeholder="ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰" style="padding: 8px; border-radius: 4px; border: 1px solid #333; background-color: #222; color: white; width: 200px; font-size: 14px;">
                            <div style="display: flex; gap: 8px;">
                                <button id="emailSignUpBtn" class="action-btn" style="font-size: 14px; padding: 8px 12px;">ã‚µã‚¤ãƒ³ã‚¢ãƒƒãƒ—</button>
                                <button id="emailLoginBtn" class="action-btn" style="font-size: 14px; padding: 8px 12px;">ãƒ­ã‚°ã‚¤ãƒ³</button>
                            </div>
                        </div>
                        
                        <!-- Googleãƒ­ã‚°ã‚¤ãƒ³ï¼ˆä¸€æ™‚çš„ã«éè¡¨ç¤ºï¼‰ -->
                        <button class="action-btn login-btn" id="loginBtn" style="display: none;">Googleã§ãƒ­ã‚°ã‚¤ãƒ³</button>
                        <button class="action-btn logout-btn" id="logoutBtn" style="display: none;">ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ</button>
                    </div>
                </div>

                <!-- åŒæœŸæ©Ÿèƒ½ã¯ç„¡åŠ¹åŒ–ã•ã‚Œã¦ã„ã¾ã™ -->

                <!-- ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã‚°ãƒªãƒƒãƒ‰ -->
                <div class="calendar-container">
                    <div class="calendar-grid">
                        <!-- ãƒ˜ãƒƒãƒ€ãƒ¼è¡Œ -->
                        <div class="grid-header">
                            <div class="header-cell no-header">No.</div>
                            <div class="header-cell item-header">é …ç›®</div>
                            <div class="header-cell day-header">æœˆ</div>
                            <div class="header-cell day-header">ç«</div>
                            <div class="header-cell day-header">æ°´</div>
                            <div class="header-cell day-header">æœ¨</div>
                            <div class="header-cell day-header">é‡‘</div>
                            <div class="header-cell day-header">åœŸ</div>
                            <div class="header-cell day-header">æ—¥</div>
                            <div class="header-cell total-header">é€±è¨ˆ</div>
                            <div class="header-cell total-header">åˆè¨ˆ</div>
                        </div>
                        
                        <!-- æ—¥ä»˜è¡Œ -->
                        <div class="date-row" id="dateRow">
                            <div class="date-cell empty-cell"></div>
                            <div class="date-cell empty-cell"></div>
                            <!-- æ—¥ä»˜ã¯JavaScriptã§å‹•çš„ã«ç”Ÿæˆ -->
                            <div class="date-cell empty-cell"></div>
                            <div class="date-cell empty-cell"></div>
                        </div>

                        <!-- ç¿’æ…£ã‚°ãƒªãƒƒãƒ‰ -->
                        <div class="habits-grid" id="habitsGrid">
                            <!-- ç¿’æ…£ã¯JavaScriptã§å‹•çš„ã«ç”Ÿæˆ -->
                        </div>
                        
                        <!-- æ—¥è¨ˆè¡Œ -->
                        <div class="daily-total-row" id="dailyTotalRow">
                            <!-- æ—¥è¨ˆã¯JavaScriptã§å‹•çš„ã«ç”Ÿæˆ -->
                        </div>
                        
                        <!-- æœˆé–“ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ -->
                        <div class="monthly-calendar-section">
                            <h3>æœˆé–“ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼</h3>
                            <div class="monthly-calendar-container">
                                <div class="monthly-calendar-header">
                                    <button class="month-nav" id="prevMonth">â€¹</button>
                                    <span id="currentMonth">2025å¹´9æœˆ</span>
                                    <button class="month-nav" id="nextMonth">â€º</button>
                                </div>
                                <div class="monthly-calendar-grid" id="monthlyCalendarGrid">
                                    <!-- æœˆé–“ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã¯JavaScriptã§å‹•çš„ã«ç”Ÿæˆ -->
                                </div>
                            </div>
                            
                            <!-- ãƒ˜ãƒ«ã‚¹é›†è¨ˆè¡¨ -->
                            <div class="health-summary-section">
                                <h4>å…¨æœŸé–“ãƒ˜ãƒ«ã‚¹é›†è¨ˆ</h4>
                                <div class="health-summary-table">
                                    <div class="health-summary-header">
                                        <div class="summary-cell">é …ç›®</div>
                                        <div class="summary-cell">ç·å›æ•°</div>
                                    </div>
                                    <div class="health-summary-row" id="healthKeepingSummary">
                                        <div class="summary-cell">
                                            <span class="health-legend-color has-health"></span>
                                            A ãƒ˜ãƒ«ã‚¹ã‚­ãƒ¼ãƒ”ãƒ³ã‚°
                                        </div>
                                        <div class="summary-cell count">0</div>
                                    </div>
                                    <div class="health-summary-row" id="headMassageSummary">
                                        <div class="summary-cell">
                                            <span class="health-legend-color has-massage"></span>
                                            B ãƒ˜ãƒƒãƒ‰ãƒãƒƒã‚µãƒ¼ã‚¸
                                        </div>
                                        <div class="summary-cell count">0</div>
                                    </div>
                                    <div class="health-summary-row" id="dentalCleaningSummary">
                                        <div class="summary-cell">
                                            <span class="health-legend-color has-dental"></span>
                                            C æ­¯ç§‘ã‚¯ãƒªãƒ¼ãƒ‹ãƒ³ã‚°
                                        </div>
                                        <div class="summary-cell count">0</div>
                                    </div>
                                    <div class="health-summary-row" id="saunaSummary">
                                        <div class="summary-cell">
                                            <span class="health-legend-color has-sauna"></span>
                                            D ã‚µã‚¦ãƒŠ
                                        </div>
                                        <div class="summary-cell count">0</div>
                                    </div>
                                    <div class="health-summary-row" id="catcafeSummary">
                                        <div class="summary-cell">
                                            <span class="health-legend-color has-catcafe"></span>
                                            E çŒ«ã‚«ãƒ•ã‚§
                                        </div>
                                        <div class="summary-cell count">0</div>
                                    </div>
                                    <div class="health-summary-row" id="friendPartySummary">
                                        <div class="summary-cell">
                                            <span class="health-legend-color has-friendparty"></span>
                                            F æ‡‡è¦ªä¼š
                                        </div>
                                        <div class="summary-cell count">0</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- çµ±è¨ˆãƒ“ãƒ¥ãƒ¼ -->
            <section class="stats-view" id="statsView" style="display: none;">
                <!-- ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³è¡¨ç¤º -->
                <div class="motivation-section">
                    <h3>ğŸ† ã‚ãªãŸã®æˆæœ</h3>
                    <div class="achievement-total">
                        <span class="total-label">æˆæœåˆè¨ˆ</span>
                        <span class="total-value" id="achievementTotal">0ã‚®ãƒ«</span>
                    </div>
                    <div class="motivation-stats">
                        <div class="stat-card">
                            <div class="stat-icon">ğŸ”¥</div>
                            <div class="stat-content">
                                <div class="stat-value" id="currentStreak">0</div>
                                <div class="stat-label">å®Œç’§ãªæ—¥ã®é€£ç¶š</div>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">â­</div>
                            <div class="stat-content">
                                <div class="stat-value" id="totalScore">0</div>
                                <div class="stat-label">ç·ã‚¹ã‚³ã‚¢</div>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">ğŸ¯</div>
                            <div class="stat-content">
                                <div class="stat-value" id="perfectDays">0</div>
                                <div class="stat-label">å®Œç’§ãªæ—¥</div>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">ğŸ…</div>
                            <div class="stat-content">
                                <div class="stat-value" id="badgeCount">0</div>
                                <div class="stat-label">ãƒãƒƒã‚¸</div>
                            </div>
                        </div>
                    </div>
                </div>


                <!-- åˆè¨ˆå€¤æ¨ç§»ã‚°ãƒ©ãƒ• -->
                <div class="chart-section">
                    <div class="chart-card">
                        <div class="chart-header">
                            <h3>åˆè¨ˆå€¤ã®æ¨ç§»</h3>
                            <div class="chart-summary" id="totalChartSummary"></div>
                        </div>
                        <div class="chart-container" id="totalChartContainer">
                            <canvas id="totalChart"></canvas>
                            <div class="chart-empty-message" id="totalChartEmptyMessage">
                                ã¾ã è¡¨ç¤ºã§ãã‚‹ãƒ‡ãƒ¼ã‚¿ãŒã‚ã‚Šã¾ã›ã‚“
                            </div>
                        </div>
                        <div class="chart-footer" id="totalChartFooter"></div>
                    </div>
                </div>

                <!-- çµ±è¨ˆã‚µãƒãƒªãƒ¼ã‚«ãƒ¼ãƒ‰ -->
                <div class="chart-summary">
                    <div class="summary-chip">
                        <div class="chip-label">30æ—¥ç´¯è¨ˆ</div>
                        <div class="chip-value" id="total30Days">0</div>
                    </div>
                    <div class="summary-chip">
                        <div class="chip-label">ç›´è¿‘7æ—¥</div>
                        <div class="chip-value" id="total7Days">0</div>
                    </div>
                    <div class="summary-chip">
                        <div class="chip-label">1æ—¥å¹³å‡</div>
                        <div class="chip-value" id="dailyAverage">0</div>
                    </div>
                </div>

                <!-- ç¿’æ…£åˆ†æã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
                <div class="analysis-section">
                    <h3>ğŸ“Š ç¿’æ…£åˆ†æ</h3>
                    <div class="analysis-grid">
                        <div class="analysis-card">
                            <div class="analysis-header">
                                <span class="analysis-icon">ğŸ¯</span>
                                <h4>æœ€ã‚‚å¾—æ„ãªç¿’æ…£</h4>
                            </div>
                            <div class="analysis-content" id="bestHabit">
                                <div class="habit-name">-</div>
                                <div class="habit-rate">é”æˆç‡: -%</div>
                            </div>
                        </div>
                        
                        <div class="analysis-card">
                            <div class="analysis-header">
                                <span class="analysis-icon">âš¡</span>
                                <h4>æ”¹å–„ãŒå¿…è¦ãªç¿’æ…£</h4>
                            </div>
                            <div class="analysis-content" id="worstHabit">
                                <div class="habit-name">-</div>
                                <div class="habit-rate">é”æˆç‡: -%</div>
                            </div>
                        </div>
                        
                        <div class="analysis-card">
                            <div class="analysis-header">
                                <span class="analysis-icon">ğŸ“ˆ</span>
                                <h4>æˆé•·ãƒˆãƒ¬ãƒ³ãƒ‰</h4>
                            </div>
                            <div class="analysis-content" id="growthTrend">
                                <div class="trend-text">-</div>
                                <div class="trend-detail">-</div>
                            </div>
                        </div>
                        
                        <div class="analysis-card">
                            <div class="analysis-header">
                                <span class="analysis-icon">ğŸ”¥</span>
                                <h4>é€£ç¶šè¨˜éŒ²</h4>
                            </div>
                            <div class="analysis-content" id="streakRecord">
                                <div class="streak-text">-</div>
                                <div class="streak-detail">-</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ã‚¢ãƒ‰ãƒã‚¤ã‚¹ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
                <div class="advice-section">
                    <h3>ğŸ’¡ ç¶™ç¶šã®ã‚³ãƒ„</h3>
                    <div class="advice-card" id="adviceCard">
                        <div class="advice-icon">ğŸŒŸ</div>
                        <div class="advice-content">
                            <div class="advice-title">ãƒ‡ãƒ¼ã‚¿ã‚’åˆ†æä¸­...</div>
                            <div class="advice-text">ã‚ãªãŸã®ç¿’æ…£ãƒ‡ãƒ¼ã‚¿ã‚’åˆ†æã—ã¦ã€ãƒ‘ãƒ¼ã‚½ãƒŠãƒ©ã‚¤ã‚ºã•ã‚ŒãŸã‚¢ãƒ‰ãƒã‚¤ã‚¹ã‚’ç”Ÿæˆã—ã¦ã„ã¾ã™ã€‚</div>
                        </div>
                    </div>
                </div>

                <!-- ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
                <div class="motivation-analysis">
                    <h3>ğŸš€ ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³åˆ†æ</h3>
                    <div class="motivation-grid">
                        <div class="motivation-card">
                            <div class="motivation-icon">ğŸ“…</div>
                            <div class="motivation-content">
                                <h4>ä»Šé€±ã®èª¿å­</h4>
                                <div class="motivation-value" id="weeklyMood">-</div>
                                <div class="motivation-detail" id="weeklyMoodDetail">-</div>
                            </div>
                        </div>
                        
                        <div class="motivation-card">
                            <div class="motivation-icon">ğŸ–ï¸</div>
                            <div class="motivation-content">
                                <h4>æ¬¡ã®ç›®æ¨™</h4>
                                <div class="motivation-value" id="nextGoal">-</div>
                                <div class="motivation-detail" id="nextGoalDetail">-</div>
                            </div>
                        </div>
                        
                        <div class="motivation-card">
                            <div class="motivation-icon">ğŸ’ª</div>
                            <div class="motivation-content">
                                <h4>ç¶™ç¶šåŠ›ãƒ¬ãƒ™ãƒ«</h4>
                                <div class="motivation-value" id="consistencyLevel">-</div>
                                <div class="motivation-detail" id="consistencyLevelDetail">-</div>
                            </div>
                        </div>
                    </div>
                </div>

            </section>

            <!-- ãƒ¢ãƒ³ã‚¹ã‚¿ãƒ¼ãƒ“ãƒ¥ãƒ¼ -->
            <section class="monster-view" id="monsterView" style="display: none;">
                <h2>ãƒ¢ãƒ³ã‚¹ã‚¿ãƒ¼å›³é‘‘</h2>
                <div class="monster-grid" id="monsterGrid">
                    <!-- ãƒ¢ãƒ³ã‚¹ã‚¿ãƒ¼ã¯JavaScriptã§å‹•çš„ã«ç”Ÿæˆ -->
                </div>
            </section>

            <!-- ãƒãƒƒã‚¸ãƒ“ãƒ¥ãƒ¼ -->
            <section class="badge-view" id="badgeView" style="display: none;">
                <h2>ğŸ… ãƒãƒƒã‚¸ã‚»ãƒ³ã‚¿ãƒ¼</h2>

                <!-- ãƒãƒƒã‚¸ä¸€è¦§ -->
                <div class="badge-list-section">
                    <h3>ğŸ… ãƒãƒƒã‚¸ã‚®ãƒ£ãƒ©ãƒªãƒ¼</h3>
                    <p class="badge-gil-note">ãƒãƒƒã‚¸ã‚’é›†ã‚ã‚‹ã¨å¤§é‡ã®ã‚®ãƒ«ãŒç²å¾—ã§ãã¾ã™ã€‚ã‚³ãƒ³ãƒ—ãƒªãƒ¼ãƒˆçŠ¶æ³ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ã€æ¬¡ã«ç‹™ã†ãƒãƒƒã‚¸ã‚’æ±ºã‚ã¾ã—ã‚‡ã†ï¼</p>
                    <div class="badge-progress-overview">
                        <div class="badge-progress-card">
                            <div class="badge-progress-label">ã‚³ãƒ³ãƒ—ãƒªãƒ¼ãƒˆçŠ¶æ³</div>
                            <div class="badge-progress-main">
                                <span class="badge-progress-value" id="earnedBadgeCount">0</span>
                                <span class="badge-progress-divider">/</span>
                                <span class="badge-progress-total" id="totalBadgeCount">0</span>
                            </div>
                            <div class="badge-progress-sub">ã‚³ãƒ³ãƒ—ãƒªãƒ¼ãƒˆç‡ <span id="badgeCompletionRate">0%</span></div>
                            <div class="badge-progress-bar">
                                <div class="badge-progress-fill" id="badgeProgressFill"></div>
                            </div>
                        </div>
                        <div class="badge-progress-card highlight">
                            <div class="badge-progress-label">æ¬¡ã®ã‚´ãƒ¼ãƒ«</div>
                            <div class="badge-progress-message" id="nextBadgeMessage">ãƒãƒ£ãƒ¬ãƒ³ã‚¸ä¸­ã®æ¡ä»¶ã‚’ç¢ºèªã—ã¾ã—ã‚‡ã†ï¼</div>
                        </div>
                    </div>

                    <div class="badge-owned-section">
                        <h4>ğŸ– æŒã£ã¦ã„ã‚‹ãƒãƒƒã‚¸</h4>
                        <p class="badge-owned-note">ç²å¾—æ¸ˆã¿ã®ãƒãƒƒã‚¸ã‚¢ã‚¤ã‚³ãƒ³ãŒã“ã“ã«ä¸¦ã³ã¾ã™ã€‚</p>
                        <div class="badge-owned-grid" id="badgeIconGrid"></div>
                        <div class="badge-owned-empty" id="badgeIconEmpty">ã¾ã ãƒãƒƒã‚¸ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚æ¯æ—¥ã®ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã§ç²å¾—ã—ã¾ã—ã‚‡ã†ï¼</div>
                    </div>

                    <div class="badge-category-board" id="badgeCategoryBoard"></div>
                </div>
            </section>


            <!-- è¨­å®šãƒ“ãƒ¥ãƒ¼ -->
            <section class="settings-view" id="settingsView" style="display: none;">
                <h2>âš™ï¸ è¨­å®š</h2>

                <!-- ã‚¢ãƒ—ãƒªæƒ…å ± -->
                <div class="app-info-section">
                    <h3>ğŸ“± ã‚¢ãƒ—ãƒªæƒ…å ±</h3>
                    <div class="info-item">
                        <span class="info-label">ãƒãƒ¼ã‚¸ãƒ§ãƒ³:</span>
                        <span class="info-value">2.0.0</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">æœ€çµ‚æ›´æ–°:</span>
                        <span class="info-value">2025å¹´9æœˆ23æ—¥</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">ãƒ‡ãƒ¼ã‚¿ä¿å­˜:</span>
                        <span class="info-value">ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸</span>
                    </div>
                </div>

                <!-- ãƒ‡ãƒ¼ã‚¿ç®¡ç† -->
                <div class="data-management-section">
                    <h3>ğŸ’¾ ãƒ‡ãƒ¼ã‚¿ç®¡ç†</h3>
                    <div class="data-buttons">
                        <button id="exportDataBtn" class="data-btn export-btn">ğŸ“¤ ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ</button>
                        <button id="importDataBtn" class="data-btn import-btn">ğŸ“¥ ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆ</button>
                        <button id="restoreDataBtn" class="data-btn restore-btn">ğŸ”„ ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‹ã‚‰å¾©å…ƒ</button>
                    </div>
                </div>

                <!-- æˆæœã‚·ã‚¹ãƒ†ãƒ ã®èª¬æ˜ -->
                <div class="achievement-explanation-section">
                    <h3>ğŸ† æˆæœã‚·ã‚¹ãƒ†ãƒ ã®èª¬æ˜</h3>
                    <div class="achievement-cards">
                        <div class="achievement-card">
                            <div class="achievement-left-section">
                                <div class="achievement-icon">ğŸ”¥</div>
                                <div class="achievement-title-vertical">å®Œç’§ãªæ—¥ã®é€£ç¶šé”æˆæ—¥æ•°</div>
                            </div>
                            <div class="achievement-content">
                                <div class="achievement-details">
                                    <div class="achievement-detail-item">
                                        <div class="achievement-detail-label">æ¡ä»¶</div>
                                        <div class="achievement-detail-content">å®Œç’§ãªæ—¥ã®é€£ç¶šé”æˆæ—¥æ•°</div>
                                    </div>
                                    <div class="achievement-detail-item">
                                        <div class="achievement-detail-label">è¨ˆç®—</div>
                                        <div class="achievement-detail-content">ãã®æ—¥ã®å…¨ã¦ã®ç¿’æ…£ã‚’é”æˆã—ãŸæ—¥ï¼ˆå®Œç’§ãªæ—¥ï¼‰ã‚’é€£ç¶šã§ç¶šã‘ãŸæ—¥æ•°</div>
                                    </div>
                                    <div class="achievement-detail-item">
                                        <div class="achievement-detail-label">é‡è¦</div>
                                        <div class="achievement-detail-content">1æ—¥ã§ã‚‚å®Œç’§ã§ãªã„æ—¥ãŒã‚ã‚‹ã¨0ã«ãƒªã‚»ãƒƒãƒˆ</div>
                                    </div>
                                    <div class="achievement-detail-item">
                                        <div class="achievement-detail-label">ä¾‹</div>
                                        <div class="achievement-detail-content">ç¿’æ…£ãŒ5å€‹ã‚ã£ã¦ã€æ¯æ—¥5å€‹ã™ã¹ã¦ã‚’é”æˆã—ç¶šã‘ãŸæ—¥æ•°</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="achievement-card">
                            <div class="achievement-left-section">
                                <div class="achievement-icon">â­</div>
                                <div class="achievement-title-vertical">ç·ã‚¹ã‚³ã‚¢</div>
                            </div>
                            <div class="achievement-content">
                                <div class="achievement-details">
                                    <div class="achievement-detail-item">
                                        <div class="achievement-detail-label">æ¡ä»¶</div>
                                        <div class="achievement-detail-content">å…¨ç¿’æ…£é”æˆå›æ•°ã®åˆè¨ˆ</div>
                                    </div>
                                    <div class="achievement-detail-item">
                                        <div class="achievement-detail-label">è¨ˆç®—</div>
                                        <div class="achievement-detail-content">1ã¤ã®ç¿’æ…£ã‚’1å›ãƒã‚§ãƒƒã‚¯ã™ã‚‹ã”ã¨ã«1ãƒã‚¤ãƒ³ãƒˆåŠ ç®—</div>
                                    </div>
                                    <div class="achievement-detail-item">
                                        <div class="achievement-detail-label">ä¾‹</div>
                                        <div class="achievement-detail-content">ç¿’æ…£Aã‚’3å›ã€ç¿’æ…£Bã‚’2å›é”æˆ = 5ãƒã‚¤ãƒ³ãƒˆ</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="achievement-card">
                            <div class="achievement-left-section">
                                <div class="achievement-icon">ğŸ¯</div>
                                <div class="achievement-title-vertical">å®Œç’§ãªæ—¥</div>
                            </div>
                            <div class="achievement-content">
                                <div class="achievement-details">
                                    <div class="achievement-detail-item">
                                        <div class="achievement-detail-label">æ¡ä»¶</div>
                                        <div class="achievement-detail-content">ãã®æ—¥ã®å…¨ã¦ã®ç¿’æ…£ã‚’é”æˆã—ãŸæ—¥æ•°</div>
                                    </div>
                                    <div class="achievement-detail-item">
                                        <div class="achievement-detail-label">è¨ˆç®—</div>
                                        <div class="achievement-detail-content">1æ—¥ã§è¨­å®šã•ã‚Œã¦ã„ã‚‹å…¨ã¦ã®ç¿’æ…£ã‚’ãƒã‚§ãƒƒã‚¯ã—ãŸæ—¥</div>
                                    </div>
                                    <div class="achievement-detail-item">
                                        <div class="achievement-detail-label">ä¾‹</div>
                                        <div class="achievement-detail-content">ç¿’æ…£ãŒ5å€‹ã‚ã£ã¦ã€ãã®æ—¥5å€‹ã™ã¹ã¦ã‚’é”æˆ = å®Œç’§ãªæ—¥+1</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="achievement-card">
                            <div class="achievement-left-section">
                                <div class="achievement-icon">ğŸ…</div>
                                <div class="achievement-title-vertical">ãƒãƒƒã‚¸</div>
                            </div>
                            <div class="achievement-content">
                                <div class="achievement-details">
                                    <div class="achievement-detail-item">
                                        <div class="achievement-detail-label">æ¡ä»¶</div>
                                        <div class="achievement-detail-content">ç‰¹å®šã®æ¡ä»¶ã‚’æº€ãŸã™ã¨ç²å¾—</div>
                                    </div>
                                    <div class="achievement-detail-item">
                                        <div class="achievement-detail-label">ç²å¾—</div>
                                        <div class="achievement-detail-content">æ¡ä»¶ã‚’æº€ãŸã™ã¨è‡ªå‹•çš„ã«ãƒãƒƒã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ãƒ¢ãƒ¼ãƒ€ãƒ« -->
            <div class="calendar-modal" id="calendarModal" style="display: none;">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3>æ—¥ä»˜ã‚’é¸æŠ</h3>
                        <button class="close-btn" id="closeCalendar">&times;</button>
                    </div>
                    <div class="calendar-container-modal">
                        <div class="calendar-header">
                            <button class="month-nav" id="prevMonth">â€¹</button>
                            <span id="currentMonthYear">2025å¹´9æœˆ</span>
                            <button class="month-nav" id="nextMonth">â€º</button>
                        </div>
                        <div class="calendar-grid-modal" id="calendarGrid">
                            <!-- ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã¯JavaScriptã§å‹•çš„ã«ç”Ÿæˆ -->
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- ãƒœãƒˆãƒ ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ -->
        <nav class="bottom-nav">
            <button class="nav-btn active" id="homeBtn">
                <span class="nav-icon">ğŸ </span>
                <span>ãƒ›ãƒ¼ãƒ </span>
            </button>
            <button class="nav-btn" id="statsBtn">
                <span class="nav-icon">ğŸ“Š</span>
                <span>çµ±è¨ˆ</span>
            </button>
            <button class="nav-btn" id="monsterBtn">
                <span class="nav-icon">ğŸ‘¹</span>
                <span>ãƒ¢ãƒ³ã‚¹ã‚¿ãƒ¼</span>
            </button>
            <button class="nav-btn" id="badgeBtn">
                <span class="nav-icon">ğŸ…</span>
                <span>ãƒãƒƒã‚¸</span>
            </button>
            <button class="nav-btn" id="settingsBtn">
                <span class="nav-icon">âš™ï¸</span>
                <span>è¨­å®š</span>
            </button>
            <button class="nav-btn" id="firebaseTestBtn" style="display: none;">
                <span class="nav-icon">ğŸ§ª</span>
                <span>ãƒ†ã‚¹ãƒˆ</span>
            </button>
        </nav>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="firebase-setup-automated.js?v=2"></script>
    <script src="firebase-test.js?v=2"></script>
    <script src="sync-optional.js?v=1"></script>
    <script>
        // Service Workerã‚’å®Œå…¨ã«ç„¡åŠ¹åŒ–
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.getRegistrations().then(function(registrations) {
                for(let registration of registrations) {
                    registration.unregister();
                }
            });
        }
    </script>
    <script src="script.js?v=20250125000000"></script>
</body>
</html>
