# 習慣化アプリ v3 - 自動同期版

## 概要
メールアドレスとパスワードのみでログインし、JSONBin.io APIを使用した自動同期機能を持つ習慣トラッカーアプリです。

## 主な機能

### 🔐 認証システム
- メールアドレス・パスワードでのログイン
- 新規登録機能
- ローカルストレージでの認証状態管理

### ☁️ 自動同期機能
- ログイン時：自動でクラウドからデータ取得
- データ変更時：自動でクラウドに保存
- 複数デバイス間でのリアルタイム同期
- 手動同期ボタンも提供

### 📱 習慣管理
- 週間カレンダー表示
- 習慣のチェック機能
- 週間・総合計の自動計算
- レスポンシブデザイン

## 技術仕様

### フロントエンド
- HTML5 + CSS3 + JavaScript (ES6+)
- ローカルストレージ
- JSONBin.io API連携

### セキュリティ
- パスワードのハッシュ化（btoa）
- メールアドレスベースの認証
- ユーザーごとのデータ分離

## セットアップ

### 1. JSONBin.io APIキーの設定
1. [JSONBin.io](https://jsonbin.io/) にアクセス
2. アカウントを作成
3. APIキーを取得
4. `script.js` の `JSONBIN_API_KEY` を実際のAPIキーに置き換え

```javascript
const JSONBIN_API_KEY = '$2a$10$YOUR_ACTUAL_API_KEY_HERE';
```

### 2. ファイルの配置
```
habit3/
├── index.html
├── script.js
├── styles.css
├── manifest.json
└── README.md
```

### 3. ローカルサーバーでの実行
```bash
# Python 3の場合
python -m http.server 8000

# Node.jsの場合
npx http-server

# または、Live Server拡張機能を使用
```

## 使用方法

### 初回利用
1. アプリにアクセス
2. 「👤」ボタンをクリック
3. 「新規登録」タブでアカウント作成
4. ログイン後、習慣をチェック

### 複数デバイスでの利用
1. 各デバイスで同じメールアドレス・パスワードでログイン
2. データは自動的に同期される
3. 手動同期が必要な場合は「☁️」ボタンをクリック

## API仕様

### JSONBin.io API
- **エンドポイント**: `https://api.jsonbin.io/v3/b/{binId}`
- **認証**: X-Master-Key ヘッダー
- **データ形式**: JSON

### データ構造
```json
{
  "completedHabits": {
    "habit_id": {
      "2025-01-01": true,
      "2025-01-02": false
    }
  },
  "userId": "user_1234567890",
  "email": "user@example.com",
  "lastSync": "2025-01-01T12:00:00.000Z"
}
```

## トラブルシューティング

### 同期が動作しない場合
1. JSONBin.io APIキーが正しく設定されているか確認
2. ネットワーク接続を確認
3. ブラウザのコンソールでエラーメッセージを確認

### データが消えた場合
1. ローカルストレージを確認
2. クラウドから手動同期を実行
3. バックアップデータがあるか確認

## ライセンス
MIT License

## 更新履歴
- v3.0.0: 自動同期機能を追加
- v2.0.0: 手動エクスポート/インポート機能
- v1.0.0: 基本習慣トラッカー機能
